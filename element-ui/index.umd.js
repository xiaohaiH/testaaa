(function(_,a){typeof exports=="object"&&typeof module<"u"?a(exports,require("vue-demi"),require("element-ui")):typeof define=="function"&&define.amd?define(["exports","vue-demi","element-ui"],a):(_=typeof globalThis<"u"?globalThis:_||self,a(_.HCondition={},_.VueDemi,_.ELEMENT))})(this,function(_,a,y){"use strict";const at=a.version.slice(0,3)==="2.7",z="condition-wrapper";function co(e){return e}function lo(e){return e}function it(e){const t=[];a.onBeforeUnmount(()=>t.splice(0));const n={};let r=!1,o=[];const c={realtime:a.ref(e.realtime),register(p){t.push(p);const d=()=>{r=!0,p.reset(),p.updateWrapperQuery();const $=t.indexOf(p);$!==-1&&t.splice($,1),e.searchAtDatumChanged&&u(),r=!1,o.forEach(C=>{a.del(f.value,C),delete n[C]}),o=[]},S=a.getCurrentInstance();return S&&a.onBeforeUnmount(d,at?S.proxy:S),d},updateQueryValue(p,d){r&&o.push(p),a.set(f.value,p,d),n[p]=d},insetSearch(){e.realtime&&u()},search:u,removeUnreferencedField(p){let d=0;t.some(S=>(S.getQuery().hasOwnProperty(p)&&(d+=1),d)),d||(a.del(f.value,p),delete n[p])}};a.provide(z,c);const f=a.ref({...e.backfill}),l=()=>({...f.value,...e.backfill,...n});async function u(){var d,S;const p=await P();p?(d=e.toast)==null||d.call(e,p):(S=e.search)==null||S.call(e,l())}function g(){var p;t.forEach(d=>{d.reset(),d.updateWrapperQuery()}),(p=e.reset)==null||p.call(e,l())}async function P(){return(await Promise.all(t.map(d=>{var S;return(S=d.validator)==null?void 0:S.call(d,f.value)}))).find(d=>d&&typeof d=="string")}return{child:t,wrapperInstance:c,query:f,getQuery:l,search:u,reset:g,validate:P}}const ct={realtime:{type:Boolean,default:void 0},searchAtDatumChanged:{type:Boolean,default:void 0},backfill:{type:Object},toast:{type:Function,default:void 0}};function j(e,t){return Array.isArray(e)?e.filter(Boolean).length?e:t:typeof e=="number"?e:e||t}function pe(e,t,n="children"){var r;for(const o of e){if(t(o))return[o];if((r=o[n])!=null&&r.length){const c=pe(o[n],t);if(c.length)return c.unshift(o),c}}return[]}function N(e,...t){return typeof e=="function"?e(...t):typeof e=="string"?e:a.markRaw(e)}function _e(e){const t=a.ref();return a.computed({set(r){t.value=r},get(){return t.value===void 0?e.defaultValue!==void 0?typeof e.defaultValue=="function"?e.defaultValue(e.query,e.backfill):e.defaultValue:void 0:t.value}})}function ye(e,t){const n=a.ref(typeof e.disabled=="boolean"?e.disabled:!1),r=a.ref(typeof e.hide=="boolean"?e.hide:!1),o=()=>({query:e.query,backfill:e.backfill,option:t}),c=()=>{if(typeof e.hide=="function"){const l=r.value,u=e.hide(o());l!==u&&(r.value=e.hide(o()))}else if(typeof e.disabled=="function"){const l=n.value,u=e.disabled(o());l!==u&&(n.value=e.disabled(o()))}};let f=[a.watch(()=>e.query,c,{immediate:!0,deep:!0}),a.watch(()=>[e.disabled,e.hide],(l,u)=>{l[0]!==u[0]&&(n.value=typeof l[0]=="boolean"?l[0]:!1,l[0]),l[1]!==u[1]&&(r.value=typeof l[1]=="boolean"?l[1]:!1,l[1]),c()})];return a.onBeforeUnmount(()=>(f.forEach(l=>l()),f=[])),{insetDisabled:n,insetHide:r}}function W(e=!0){const t=a.ref(e);return{flag:t,updateFlag:()=>{t.value=!e,a.nextTick(()=>{t.value=e})}}}function L(e){return(e==null?void 0:e.toString())??""}function M(e){var Q;const t=a.inject(z),n=_e(e),r=e.backfill&&((Q=e.fields)!=null&&Q.length?e.fields.map(h=>e.backfill[h]).filter(Boolean):e.backfill[e.field]),o=a.ref(r||(e.defaultValue!==void 0?n.value:e.multiple?[]:"").slice()),c=a.ref([]),f=a.computed(()=>c.value.length?c.value:e.options),l=()=>e.customGetQuery?e.customGetQuery(o.value,j,e):e.multiple&&e.fields?e.fields.reduce((h,b,i)=>{var s;return h[b]=j((s=o.value)==null?void 0:s[i],e.emptyValue),h},{}):{[e.field]:j(o.value,e.emptyValue)},{flag:u,updateFlag:g}=W(),{flag:P,updateFlag:p}=W(),d={reset(){var b;const{multiple:h}=e;g(),p(),o.value=e.resetToInitialValue&&((b=n.value)==null?void 0:b.slice())||(h?[]:"")},updateWrapperQuery(){g(),t&&Object.entries(l()).forEach(([h,b])=>t.updateQueryValue(h,b))},get validator(){return e.validator},getQuery:l};t==null||t.register(d);const{insetDisabled:S,insetHide:$}=ye(e,d);!r&&e.defaultValue&&d.updateWrapperQuery();const C=[];a.onBeforeUnmount(()=>C.forEach(h=>h())),C.push(a.watch(()=>e.field,(h,b)=>{h!==b&&(t==null||t.removeUnreferencedField(b)),d.updateWrapperQuery()})),C.push(a.watch(()=>[e.fields||e.field,e.fields?e.fields.map(h=>e.query[h]).filter(Boolean):e.query[e.field]],([h,b],[i])=>{const s=e.backfillToValue(b,h,e.query);h.toString()!==i.toString()||L(s)===L(o.value)||u.value&&(o.value=s)})),C.push(a.watch(()=>{var h;return[e.fields||e.field,e.fields?e.fields.map(b=>{var i;return(i=e.backfill)==null?void 0:i[b]}).filter(Boolean):(h=e.backfill)==null?void 0:h[e.field]]},([h,b],[i])=>{const s=e.backfillToValue(b,h,e.backfill);h.toString()!==i.toString()||L(s)===L(o.value)||(p(),O(s))})),C.push(a.watch(()=>[e.depend,e.dependFields,e.dependFields&&[].concat(e.dependFields).map(h=>{var b;return(b=e.query)==null?void 0:b[h]}).join(",")||""],([h,b,i],[s,m,v])=>{P.value&&i!==v&&(ne("depend"),!(h!==s||(b==null?void 0:b.toString())!==(m==null?void 0:m.toString()))&&(o.value===void 0||o.value.toString()===""||O(e.multiple?[]:"")))})),C.push(a.watch(()=>e.getOptions,ne.bind(null,"initial"),{immediate:!0}));function ne(h){var b;(b=e.getOptions)==null||b.call(e,i=>{const s=o.value;o.value=void 0,c.value=i||[],o.value=s},e.query||{},{trigger:h,change:(i,s)=>{s&&(n.value=i),F(i)},search:(i,s)=>{s&&(n.value=i),O(i),t==null||t.search()}})}function O(h){h!==o.value&&(o.value=h,d.updateWrapperQuery())}function F(h){O(h),t==null||t.insetSearch()}return{wrapper:t,option:d,checked:o,getQuery:l,insetDisabled:S,insetHide:$,finalOption:f,updateCheckedValue:O,change:F,reset:d.reset}}const ge={field:{type:String,required:!0},query:{type:Object,required:!0},backfill:{type:Object},disabled:{type:[Boolean,Function]},hide:{type:[Boolean,Function]},depend:{type:Boolean},dependFields:{type:[String,Array]},resetToInitialValue:{type:[Boolean]},emptyValue:{type:[String,Number,null,void 0]},validator:{type:[Function]},customGetQuery:{type:Function},defaultValue:{type:[String,Array,Function]}},H={...ge,fields:{type:[Array]},backfillToValue:{type:Function,default:e=>e},multiple:{type:Boolean,default:void 0},options:{type:Array,default:()=>[]},getOptions:{type:Function}};function X(e){return(e==null?void 0:e.toString())??""}function lt(e){var b;const t=a.inject(z),n=_e(e),r=a.ref([]),o=a.ref([]),c=a.computed(()=>o.value.length?o.value:e.options),f=()=>{var i;return!C.value&&!n.value?{}:e.customGetQuery?e.customGetQuery(r.value,j,e):(i=e.fields)!=null&&i.length?e.fields.reduce((s,m,v)=>Object.assign(s,{[m]:j(r.value[v],e.emptyValue)}),{}):{[e.field]:j(e.emitPath?[...r.value]:r.value.slice(-1)[0],e.emptyValue)}},{flag:l,updateFlag:u}=W(),{flag:g,updateFlag:P}=W(),p={reset(){var i;return u(),P(),r.value=e.resetToInitialValue&&((i=n.value)==null?void 0:i.slice())||[],this},get validator(){return e.validator},updateWrapperQuery(){u(),t&&Object.entries(f()).forEach(([i,s])=>t.updateQueryValue(i,s))},getQuery:f};t==null||t.register(p);const{insetDisabled:d,insetHide:S}=ye(e,p),$=[];a.onBeforeUnmount(()=>$.forEach(i=>i()));const C=a.ref(typeof e.getOptions!="function"||!!((b=e.fields)!=null&&b.length));a.watch(C,i=>i&&ne(),{immediate:!0});function ne(){var v;const{backfill:i,field:s,fields:m}=e;if(i){if(m){const I=m.reduce((re,ot)=>(i[ot]&&re.push(i[ot]),re),[]);if(I.length){r.value=I,p.updateWrapperQuery();return}}else if(i[s]){r.value=h(i[s]),p.updateWrapperQuery();return}}(v=n.value)!=null&&v.length&&(r.value=typeof n.value=="string"?h(n.value):n.value.slice(),typeof n.value=="string"&&(n.value=r.value.slice()),p.updateWrapperQuery())}$.push(a.watch(()=>e.fields||[e.field],(i,s)=>{i.toString()!==s.toString()&&t&&s.forEach(m=>i.includes(m)||t.removeUnreferencedField(m)),p.updateWrapperQuery()})),$.push(a.watch(()=>{var i,s;return[((i=e.fields)==null?void 0:i.toString())||e.field,((s=e.fields)==null?void 0:s.map(m=>e.query[m]).filter(Boolean))||e.query[e.field]]},([i,s],[m,v])=>{i!==m||X(s)===X(v)||l.value&&(r.value=typeof s=="string"?h(s):s)})),$.push(a.watch(()=>{var i,s;return(i=e.fields)!=null&&i.length?e.fields.reduce((m,v)=>{var I;return(I=e.backfill)!=null&&I[v]&&m.push(e.backfill[v]),m},[]):(s=e.backfill)==null?void 0:s[e.field]},(i,s)=>{if(C.value&&X(i)!==X(s))if(P(),Array.isArray(i))F(i);else{if(!i&&i!==0){r.value.length&&(r.value=[]);return}F(h(i))}})),$.push(a.watch(()=>[e.depend,e.dependFields,e.dependFields&&[].concat(e.dependFields).map(i=>{var s;return(s=e.query)==null?void 0:s[i]}).join(",")||""],([i,s,m],[v,I,re])=>{g.value&&m!==re&&(O("depend"),!(i!==v||(s==null?void 0:s.toString())!==(I==null?void 0:I.toString()))&&r.value.length&&F(typeof r.value=="string"?"":[]))})),$.push(a.watch(()=>e.getOptions,O.bind(null,"initial"),{immediate:!0}));function O(i){var s;(s=e.getOptions)==null||s.call(e,m=>{o.value=m||[],C.value=!0},e.query||{},{trigger:i,change:(m,v)=>{v&&(n.value=m),Q(m)},search:(m,v)=>{v&&(n.value=m),F(m),t==null||t.search()}})}function F(i){const s=Array.isArray(i)?i:h(i);s.join("")!==r.value.join("")&&(r.value=s,p.updateWrapperQuery())}function Q(i){F(i||[]),t==null||t.insetSearch()}function h(i){if(!i&&i!==0)return[];const{valueKey:s,childrenKey:m}=e;return pe(c.value,v=>v[s]===i).map(v=>v[s],m).filter(Boolean)}return{wrapper:t,option:p,checked:r,getQuery:f,finalOption:c,insetDisabled:d,insetHide:S,change:Q,reset:p.reset}}const st={...ge,fields:{type:[Array]},valueKey:{type:String,required:!0},childrenKey:{type:String},emitPath:{type:[Boolean],default:!1},options:{type:Array,default:()=>[]},getOptions:{type:Function}};var ut=typeof global=="object"&&global&&global.Object===Object&&global;const ft=ut;var dt=typeof self=="object"&&self&&self.Object===Object&&self,ht=ft||dt||Function("return this")();const oe=ht;var pt=oe.Symbol;const E=pt;var me=Object.prototype,_t=me.hasOwnProperty,yt=me.toString,V=E?E.toStringTag:void 0;function gt(e){var t=_t.call(e,V),n=e[V];try{e[V]=void 0;var r=!0}catch{}var o=yt.call(e);return r&&(t?e[V]=n:delete e[V]),o}var mt=Object.prototype,bt=mt.toString;function vt(e){return bt.call(e)}var St="[object Null]",Pt="[object Undefined]",be=E?E.toStringTag:void 0;function ae(e){return e==null?e===void 0?Pt:St:be&&be in Object(e)?gt(e):vt(e)}function ie(e){return e!=null&&typeof e=="object"}var $t="[object Symbol]";function ce(e){return typeof e=="symbol"||ie(e)&&ae(e)==$t}function Ct(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var kt=Array.isArray;const G=kt;var It=1/0,ve=E?E.prototype:void 0,Se=ve?ve.toString:void 0;function Pe(e){if(typeof e=="string")return e;if(G(e))return Ct(e,Pe)+"";if(ce(e))return Se?Se.call(e):"";var t=e+"";return t=="0"&&1/e==-It?"-0":t}function J(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Et(e){return e}var xt="[object AsyncFunction]",Ot="[object Function]",Ft="[object GeneratorFunction]",Tt="[object Proxy]";function wt(e){if(!J(e))return!1;var t=ae(e);return t==Ot||t==Ft||t==xt||t==Tt}var Bt=oe["__core-js_shared__"];const le=Bt;var $e=function(){var e=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rt(e){return!!$e&&$e in e}var At=Function.prototype,jt=At.toString;function Nt(e){if(e!=null){try{return jt.call(e)}catch{}try{return e+""}catch{}}return""}var Kt=/[\\^$.*+?()[\]{}|]/g,Mt=/^\[object .+?Constructor\]$/,Ht=Function.prototype,Vt=Object.prototype,Gt=Ht.toString,qt=Vt.hasOwnProperty,Qt=RegExp("^"+Gt.call(qt).replace(Kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zt(e){if(!J(e)||Rt(e))return!1;var t=wt(e)?Qt:Mt;return t.test(Nt(e))}function Wt(e,t){return e==null?void 0:e[t]}function se(e,t){var n=Wt(e,t);return zt(n)?n:void 0}function Lt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Xt=800,Jt=16,Yt=Date.now;function Zt(e){var t=0,n=0;return function(){var r=Yt(),o=Jt-(r-n);if(n=r,o>0){if(++t>=Xt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ut(e){return function(){return e}}var Dt=function(){try{var e=se(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Y=Dt;var en=Y?function(e,t){return Y(e,"toString",{configurable:!0,enumerable:!1,value:Ut(t),writable:!0})}:Et,tn=Zt(en);const nn=tn;var rn=9007199254740991,on=/^(?:0|[1-9]\d*)$/;function Ce(e,t){var n=typeof e;return t=t??rn,!!t&&(n=="number"||n!="symbol"&&on.test(e))&&e>-1&&e%1==0&&e<t}function an(e,t,n){t=="__proto__"&&Y?Y(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ke(e,t){return e===t||e!==e&&t!==t}var cn=Object.prototype,ln=cn.hasOwnProperty;function sn(e,t,n){var r=e[t];(!(ln.call(e,t)&&ke(r,n))||n===void 0&&!(t in e))&&an(e,t,n)}var Ie=Math.max;function un(e,t,n){return t=Ie(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,c=Ie(r.length-t,0),f=Array(c);++o<c;)f[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(f),Lt(e,this,l)}}var fn=9007199254740991;function dn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fn}var hn="[object Arguments]";function Ee(e){return ie(e)&&ae(e)==hn}var xe=Object.prototype,pn=xe.hasOwnProperty,_n=xe.propertyIsEnumerable,yn=Ee(function(){return arguments}())?Ee:function(e){return ie(e)&&pn.call(e,"callee")&&!_n.call(e,"callee")};const Oe=yn;var gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mn=/^\w*$/;function bn(e,t){if(G(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ce(e)?!0:mn.test(e)||!gn.test(e)||t!=null&&e in Object(t)}var vn=se(Object,"create");const q=vn;function Sn(){this.__data__=q?q(null):{},this.size=0}function Pn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $n="__lodash_hash_undefined__",Cn=Object.prototype,kn=Cn.hasOwnProperty;function In(e){var t=this.__data__;if(q){var n=t[e];return n===$n?void 0:n}return kn.call(t,e)?t[e]:void 0}var En=Object.prototype,xn=En.hasOwnProperty;function On(e){var t=this.__data__;return q?t[e]!==void 0:xn.call(t,e)}var Fn="__lodash_hash_undefined__";function Tn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&t===void 0?Fn:t,this}function T(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}T.prototype.clear=Sn,T.prototype.delete=Pn,T.prototype.get=In,T.prototype.has=On,T.prototype.set=Tn;function wn(){this.__data__=[],this.size=0}function Z(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1}var Bn=Array.prototype,Rn=Bn.splice;function An(e){var t=this.__data__,n=Z(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Rn.call(t,n,1),--this.size,!0}function jn(e){var t=this.__data__,n=Z(t,e);return n<0?void 0:t[n][1]}function Nn(e){return Z(this.__data__,e)>-1}function Kn(e,t){var n=this.__data__,r=Z(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function K(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}K.prototype.clear=wn,K.prototype.delete=An,K.prototype.get=jn,K.prototype.has=Nn,K.prototype.set=Kn;var Mn=se(oe,"Map");const Hn=Mn;function Vn(){this.size=0,this.__data__={hash:new T,map:new(Hn||K),string:new T}}function Gn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function U(e,t){var n=e.__data__;return Gn(t)?n[typeof t=="string"?"string":"hash"]:n.map}function qn(e){var t=U(this,e).delete(e);return this.size-=t?1:0,t}function Qn(e){return U(this,e).get(e)}function zn(e){return U(this,e).has(e)}function Wn(e,t){var n=U(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function w(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}w.prototype.clear=Vn,w.prototype.delete=qn,w.prototype.get=Qn,w.prototype.has=zn,w.prototype.set=Wn;var Ln="Expected a function";function ue(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ln);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],c=n.cache;if(c.has(o))return c.get(o);var f=e.apply(this,r);return n.cache=c.set(o,f)||c,f};return n.cache=new(ue.Cache||w),n}ue.Cache=w;var Xn=500;function Jn(e){var t=ue(e,function(r){return n.size===Xn&&n.clear(),r}),n=t.cache;return t}var Yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zn=/\\(\\)?/g,Un=Jn(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yn,function(n,r,o,c){t.push(o?c.replace(Zn,"$1"):r||n)}),t});const Dn=Un;function er(e){return e==null?"":Pe(e)}function D(e,t){return G(e)?e:bn(e,t)?[e]:Dn(er(e))}var tr=1/0;function fe(e){if(typeof e=="string"||ce(e))return e;var t=e+"";return t=="0"&&1/e==-tr?"-0":t}function nr(e,t){t=D(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[fe(t[n++])];return n&&n==r?e:void 0}function rr(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var Fe=E?E.isConcatSpreadable:void 0;function or(e){return G(e)||Oe(e)||!!(Fe&&e&&e[Fe])}function Te(e,t,n,r,o){var c=-1,f=e.length;for(n||(n=or),o||(o=[]);++c<f;){var l=e[c];t>0&&n(l)?t>1?Te(l,t-1,n,r,o):rr(o,l):r||(o[o.length]=l)}return o}function ar(e){var t=e==null?0:e.length;return t?Te(e,1):[]}function ir(e){return nn(un(e,void 0,ar),e+"")}function cr(e,t){return e!=null&&t in Object(e)}function lr(e,t,n){t=D(t,e);for(var r=-1,o=t.length,c=!1;++r<o;){var f=fe(t[r]);if(!(c=e!=null&&n(e,f)))break;e=e[f]}return c||++r!=o?c:(o=e==null?0:e.length,!!o&&dn(o)&&Ce(f,o)&&(G(e)||Oe(e)))}function sr(e,t){return e!=null&&lr(e,t,cr)}function ur(e,t,n,r){if(!J(e))return e;t=D(t,e);for(var o=-1,c=t.length,f=c-1,l=e;l!=null&&++o<c;){var u=fe(t[o]),g=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(o!=f){var P=l[u];g=r?r(P,u,l):void 0,g===void 0&&(g=J(P)?P:Ce(t[o+1])?[]:{})}sn(l,u,g),l=l[u]}return e}function fr(e,t,n){for(var r=-1,o=t.length,c={};++r<o;){var f=t[r],l=nr(e,f);n(l,f)&&ur(c,D(f,e),l)}return c}function dr(e,t){return fr(e,t,function(n,r){return sr(e,r)})}var hr=ir(function(e,t){return e==null?{}:dr(e,t)});const k=hr,B={postfix:{type:[String,Object,Function]},as:{type:String}},x={...y.FormItem.props,prop:{type:[String,Array]}},R=Object.keys(x),we={...y.Select.props};delete we.value;const Be={...we,...H,...B,...x,labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},filterable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},filterMethod:{type:Function}},pr=Object.keys(y.Select.props),_r=a.defineComponent({inheritAttrs:!1,name:"HSelect",components:{ElFormItem:y.FormItem,ElSelect:y.Select,ElOptionGroup:y.OptionGroup,ElOption:y.Option},props:Be,setup(e,t){const n=M(e),r=a.computed(()=>k(e,R)),o=a.computed(()=>k(e,pr)),c=a.ref(""),f=u=>{c.value=u},l=a.computed(()=>{const u=c.value;return u?n.finalOption.value.filter(e.filterMethod.bind(null,u)):n.finalOption.value});return{...n,formItemProps:r,selectProps:o,getNode:N,filterValue:c,customFilterMethod:f,filterSource:l}}});var yr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ElFormItem",e._b({class:`condition-item condition-item--select condition-item--${e.field} condition-item--${!!e.postfix}`,attrs:{prop:e.formItemProps.prop||e.field}},"ElFormItem",e.formItemProps,!1),[n("ElSelect",e._g(e._b({staticClass:"condition-item__content",attrs:{disabled:e.insetDisabled,"filter-method":e.filterMethod&&e.customFilterMethod,value:e.checked},on:{input:e.change,blur:function(r){return e.customFilterMethod("")},change:function(r){return e.customFilterMethod("")}}},"ElSelect",e.selectProps,!1),e.$listeners),[e._l(e.filterSource,function(r){return[r.group&&r.children?[n("ElOptionGroup",{key:r[e.valueKey],attrs:{label:r[e.labelKey]}},[e._l(r.children,function(o){return[n("ElOption",{key:o[e.valueKey],attrs:{label:o[e.labelKey],value:o[e.valueKey]}})]})],2)]:[n("ElOption",{key:r[e.valueKey],attrs:{label:r[e.labelKey],value:r[e.valueKey]}})]]})],2),e.postfix?n("div",{staticClass:"condition-item__postfix"},[typeof e.postfix=="string"?[e._v(e._s(e.postfix))]:[n(e.getNode(e.postfix,e.checked),{tag:"component"})]],2):e._e()],1)},gr=[];const uo="";function A(e,t,n,r,o,c,f,l){var u=typeof e=="function"?e.options:e;t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),c&&(u._scopeId="data-v-"+c);var g;if(f?(g=function(d){d=d||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!d&&typeof __VUE_SSR_CONTEXT__<"u"&&(d=__VUE_SSR_CONTEXT__),o&&o.call(this,d),d&&d._registeredComponents&&d._registeredComponents.add(f)},u._ssrRegister=g):o&&(g=l?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),g)if(u.functional){u._injectStyles=g;var P=u.render;u.render=function(S,$){return g.call($),P(S,$)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,g):[g]}return{exports:e,options:u}}const Re={};var mr=A(_r,yr,gr,!1,br,"05cee438",null,null);function br(e){for(let t in Re)this[t]=Re[t]}const Ae=function(){return mr.exports}(),de={maxlength:{type:[String,Number,Boolean]},minlength:{type:[String,Number,Boolean]},placeholder:{type:[String,Number,Boolean]},rows:{type:[String,Number,Boolean]},name:{type:[String,Number,Boolean]},max:{type:[String,Number,Boolean]},min:{type:[String,Number,Boolean]},step:{type:[String,Number,Boolean]},autofocus:{type:[String,Number,Boolean]}},je={...y.Input.props,...H,...B,...x,...de,realtime:{type:Boolean,default:!0},waitTime:{type:Number,default:300},clearable:{type:Boolean,default:!0}},vr=Object.keys(y.Input.props).concat(Object.keys(de)),Sr=a.defineComponent({inheritAttrs:!1,name:"HInput",components:{ElFormItem:y.FormItem,ElInput:y.Input},props:je,setup(e,t){const n=M(e),r=a.computed(()=>k(e,R)),o=a.computed(()=>k(e,vr));let c=0;function f(u){const{realtime:g,waitTime:P}=e;if(c&&clearTimeout(c),g)n.change(u);else{if(n.updateCheckedValue(u),!n.wrapper)return;c=setTimeout(n.wrapper.insetSearch,P)}}function l(u){var g;c&&clearTimeout(c),n.checked.value=u.target.value,n.option.updateWrapperQuery(),(g=n.wrapper)==null||g.search()}return{...n,formItemProps:r,inputProps:o,debounceChange:f,enterHandle:l,getNode:N}}});var Pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ElFormItem",e._b({class:`condition-item condition-item--input condition-item--${e.field} condition-item--${!!e.postfix}`,attrs:{prop:e.formItemProps.prop||e.field}},"ElFormItem",e.formItemProps,!1),[n("ElInput",e._g(e._b({staticClass:"condition-item__content",attrs:{disabled:e.insetDisabled,value:e.checked},on:{input:e.debounceChange},nativeOn:{keydown:function(r){return"keyCode"in r&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.enterHandle(r)}}},"ElInput",e.inputProps,!1),e.$listeners)),e.postfix?n("div",{staticClass:"condition-item__postfix"},[typeof e.postfix=="string"?[e._v(e._s(e.postfix))]:[n(e.getNode(e.postfix,e.checked),{tag:"component"})]],2):e._e()],1)},$r=[];const fo="",Ne={};var Cr=A(Sr,Pr,$r,!1,kr,"06bedfc6",null,null);function kr(e){for(let t in Ne)this[t]=Ne[t]}const Ke=function(){return Cr.exports}();function Me(e){var n;const t={...e.props};return(n=e.mixins)==null||n.forEach(r=>Object.assign(t,Me(r))),t}const he=Me(y.DatePicker),He={...he,...H,...B,...x,valueFormat:{type:String,default:"yyyy-MM-dd"},beginField:{type:String},endField:{type:String}},Ir=/range$/;function Er(e){return e?Ir.test(e):!1}const xr=Object.keys(he),Or=a.defineComponent({inheritAttrs:!1,name:"HDatepicker",components:{ElFormItem:y.FormItem,ElDatePicker:y.DatePicker},props:He,setup(e,t){const{multiple:n,fields:r,...o}=a.toRefs(e),c=a.computed(()=>e.multiple!==void 0?e.multiple:Er(e.type)),f=a.computed(()=>e.fields||(c.value&&e.beginField&&e.endField?[e.beginField,e.endField]:void 0)),l=M(a.reactive({...o,multiple:c,fields:f})),u=a.computed(()=>k(e,R)),g=a.computed(()=>k(e,xr));return{...l,formItemProps:u,datepickerProps:g,isMultiple:c,getNode:N}}});var Fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ElFormItem",e._b({class:`condition-item condition-item--datepicker ${e.isMultiple&&"condition-item--datepicker-range"} condition-item--${e.field} condition-item--${!!e.postfix}`,attrs:{prop:e.formItemProps.prop||e.field}},"ElFormItem",e.formItemProps,!1),[n("ElDatePicker",e._g(e._b({staticClass:"condition-item__content",attrs:{disabled:e.insetDisabled,value:e.checked},on:{input:e.change}},"ElDatePicker",e.datepickerProps,!1),e.$listeners)),e.postfix?n("div",{staticClass:"condition-item__postfix"},[typeof e.postfix=="string"?[e._v(e._s(e.postfix))]:[n(e.getNode(e.postfix,e.checked),{tag:"component"})]],2):e._e()],1)},Tr=[];const ho="",Ve={};var wr=A(Or,Fr,Tr,!1,Br,"6eeeab5a",null,null);function Br(e){for(let t in Ve)this[t]=Ve[t]}const Ge=function(){return wr.exports}(),qe={...y.Cascader.props,...st,...B,...x,labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},filterable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0}},Rr=Object.keys(y.Cascader.props),Ar=a.defineComponent({inheritAttrs:!1,name:"HCascader",components:{ElFormItem:y.FormItem,ElCascader:y.Cascader},props:qe,setup(e,t){const n=lt(e),r=a.computed(()=>k(e,R)),o=a.computed(()=>k(e,Rr));return{...n,formItemProps:r,cascaderProps:o,getNode:N}}});var jr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ElFormItem",e._b({class:`condition-item condition-item--cascader condition-item--${e.field} condition-item--${!!e.postfix}`,attrs:{prop:e.formItemProps.prop||e.field}},"ElFormItem",e.formItemProps,!1),[n("ElCascader",e._g(e._b({staticClass:"condition-item__content",attrs:{disabled:e.insetDisabled,options:e.finalOption,value:e.checked},on:{change:e.change}},"ElCascader",e.cascaderProps,!1),e.$listeners)),e.postfix?n("div",{staticClass:"condition-item__postfix"},[typeof e.postfix=="string"?[e._v(e._s(e.postfix))]:[n(e.getNode(e.postfix,e.checked),{tag:"component"})]],2):e._e()],1)},Nr=[];const po="",Qe={};var Kr=A(Ar,jr,Nr,!1,Mr,"cdb858b6",null,null);function Mr(e){for(let t in Qe)this[t]=Qe[t]}const ze=function(){return Kr.exports}(),We={...y.RadioGroup.props,...H,...B,...x,labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},type:{type:String},cancelable:{type:Boolean,default:void 0}},Hr=Object.keys(y.RadioGroup.props),Vr=a.defineComponent({inheritAttrs:!1,name:"HRadio",components:{ElFormItem:y.FormItem,ElRadioGroup:y.RadioGroup,ElRadioButton:y.RadioButton,ElRadio:y.Radio},props:We,setup(e,t){const n=M(e),r=a.computed(()=>k(e,R)),o=a.computed(()=>k(e,Hr)),c=a.ref(),f=a.computed(()=>e.type==="button"?"ElRadioButton":"ElRadio"),l=a.computed(()=>e.cancelable?"click":null);function u(g,P,p){var d;p(g===P?"":g),(d=c.value)==null||d.$children.forEach(S=>S.$el.blur())}return{...n,formItemProps:r,radioProps:o,radioGroupRef:c,radioType:f,eventName:l,customChange:u,getNode:N}}});var Gr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ElFormItem",e._b({class:`condition-item condition-item--radio condition-item--${e.field} condition-item--${!!e.postfix}`,attrs:{prop:e.formItemProps.prop||e.field}},"ElFormItem",e.formItemProps,!1),[n("ElRadioGroup",e._g(e._b({ref:"radioGroupRef",staticClass:"condition-item__content",attrs:{disabled:e.insetDisabled,value:e.checked},on:{input:e.change}},"ElRadioGroup",e.radioProps,!1),e.$listeners),[e._l(e.finalOption,function(r){return[n(e.radioType,{key:r[e.valueKey],tag:"component",attrs:{label:r[e.valueKey]},nativeOn:e._d({},[e.eventName,function(o){return o.preventDefault(),e.customChange(r[e.valueKey],e.checked,e.change)}])},[e._v(" "+e._s(r[e.labelKey])+" ")])]})],2),e.postfix?n("div",{staticClass:"condition-item__postfix"},[typeof e.postfix=="string"?[e._v(e._s(e.postfix))]:[n(e.getNode(e.postfix,e.checked),{tag:"component"})]],2):e._e()],1)},qr=[];const _o="",Le={};var Qr=A(Vr,Gr,qr,!1,zr,"4ebde3f4",null,null);function zr(e){for(let t in Le)this[t]=Le[t]}const Xe=function(){return Qr.exports}(),ee={...y.Checkbox.props};delete ee.checked;const Je={...ee,...H,...B,...x,labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},type:{type:String},multiple:{type:Boolean,default:!0}},Wr=Object.keys(ee),Lr=a.defineComponent({inheritAttrs:!1,name:"HCheckbox",components:{ElFormItem:y.FormItem,ElCheckboxGroup:y.CheckboxGroup,ElCheckboxButton:y.CheckboxButton,ElCheckbox:y.Checkbox},props:Je,setup(e,t){const n=a.ref(),r=a.computed(()=>e.type==="button"?"ElCheckboxButton":"ElCheckbox"),o=M(e),c=a.computed(()=>k(e,R)),f=a.computed(()=>k(e,Wr));return{...o,formItemProps:c,checkboxProps:f,checkboxGroupRef:n,checkboxType:r,getNode:N}}});var Xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ElFormItem",e._b({class:`condition-item condition-item--checkbox condition-item--${e.field} condition-item--${!!e.postfix}`,attrs:{prop:e.formItemProps.prop||e.field}},"ElFormItem",e.formItemProps,!1),[n("ElCheckboxGroup",e._g(e._b({ref:"checkboxGroupRef",staticClass:"condition-item__content",attrs:{disabled:e.insetDisabled,value:e.checked},on:{input:e.change}},"ElCheckboxGroup",e.checkboxProps,!1),e.$listeners),[e._l(e.finalOption,function(r){return[n(e.checkboxType,{key:r[e.valueKey],tag:"component",attrs:{label:r[e.valueKey]}},[e._v(" "+e._s(r[e.labelKey])+" ")])]})],2),e.postfix?n("div",{staticClass:"condition-item__postfix"},[typeof e.postfix=="string"?[e._v(e._s(e.postfix))]:[n(e.getNode(e.postfix,e.checked),{tag:"component"})]],2):e._e()],1)},Jr=[];const yo="",Ye={};var Yr=A(Lr,Xr,Jr,!1,Zr,"16a423d1",null,null);function Zr(e){for(let t in Ye)this[t]=Ye[t]}const Ze=function(){return Yr.exports}(),Ue=Object.keys(y.Form.props),De={...y.Form.props,...ct,datum:{type:Object,default:()=>({})},resetToInitialValue:{type:Boolean},immediateSearch:{type:Boolean},renderBtn:{type:Boolean,default:!0},resetTriggerSearch:{type:Boolean},searchText:{type:String,default:"搜索"},resetText:{type:String,default:"重置"}},et={search:e=>!0,ready:e=>!0,reset:e=>!0},tt={select:a.markRaw(Ae),input:a.markRaw(Ke),datepicker:a.markRaw(Ge),cascader:a.markRaw(ze),radio:a.markRaw(Xe),checkbox:a.markRaw(Ze)},te={};function Ur(e,t){te[e]=a.markRaw(t)}function Dr(e){delete te[e]}function nt(e){return e?te[e]||tt[e]:{...tt,...te}}const eo=a.defineComponent({name:"HWrapper",inheritAttrs:!1,components:{ElForm:y.Form,ElButton:y.Button},props:De,emits:et,setup(e,t){const n=a.computed(()=>k(e,Ue)),r=a.ref(),o=t.emit.bind(t,"search"),c=t.emit.bind(t,"reset"),f=it({...e,search:o,reset:c});function l(){f.reset(),f.search()}return a.onMounted(()=>{e.immediateSearch&&t.emit("ready",f.getQuery())}),{...f,rootProps:n,formRef:r,getComponent:nt,resetAndSearch:l}}});var to=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ElForm",e._g(e._b({ref:"formRef",attrs:{model:e.query}},"ElForm",e.rootProps,!1),e.$listeners),[e._l(e.datum,function(r,o){return[n(e.getComponent(r.t),e._b({key:o,tag:"component",attrs:{field:r.as||o,resetToInitialValue:e.resetToInitialValue,backfill:e.backfill,query:e.query}},"component",r,!1))]}),e._t("btn",[e.renderBtn?[n("ElButton",{attrs:{size:e.size},on:{click:e.search}},[e._v(e._s(e.searchText))]),n("ElButton",{attrs:{size:e.size},on:{click:function(r){e.resetTriggerSearch?e.resetAndSearch():e.reset()}}},[e._v(" "+e._s(e.resetText)+" ")])]:e._e()],{search:e.search,reset:e.reset,resetAndSearch:e.resetAndSearch})],2)},no=[];const go="",rt={};var ro=A(eo,to,no,!1,oo,null,null,null);function oo(e){for(let t in rt)this[t]=rt[t]}const ao=function(){return ro.exports}();function io(e){return a.reactive(e)}_.HCascader=ze,_.HCheckbox=Ze,_.HDatePicker=Ge,_.HInput=Ke,_.HRadio=Xe,_.HSelect=Ae,_.HWrapper=ao,_.cascaderProps=qe,_.checkboxProps=Je,_.commonProps=B,_.datepickerProps=He,_.defineCondition=io,_.elCheckboxProps=ee,_.elDatepickerProps=he,_.elInputInsetField=de,_.formItemPropKeys=R,_.formItemProps=x,_.formPropKeys=Ue,_.getComponent=nt,_.inputProps=je,_.provideKey=z,_.radioProps=We,_.registerComponent=Ur,_.selectProps=Be,_.unregisterComponent=Dr,_.wrapperEmits=et,_.wrapperProps=De,Object.defineProperty(_,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.js.map
